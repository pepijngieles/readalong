<!DOCTYPE html>
<html lang=en translate=yes class=no-js>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, user-scalable=no">
	<meta name="theme-color" content="#ffffff" />

	<title>What's your favorite food?</title>

	<script type="module">
		document.documentElement.classList.remove('no-js');
		document.documentElement.classList.add('js');
	</script>

	<!-- <link rel=icon href=../../assets/favicons/fav.ico> -->
	<link rel=icon href=../../assets/favicons/favicon.svg type=image/svg+xml>
	<link rel=apple-touch-icon href=../../assets/favicons/favicon-180.png>
	<link rel=manifest href=../../manifest.json>
	<link rel="stylesheet" type="text/css" href="../../assets/styles.css?v=2">
</head>
<body class=show-translation>

	<svg class="icon-sprite" xmlns="http://www.w3.org/2000/svg" hidden>
		<defs>
			<symbol id="back" viewBox="0 0 24 24">
				<path d="M2.5 11.5L9.5 4.5" class="round"/>
				<path d="M2.5 11.5H22.5" class="round"/>
				<path d="M9.5 18.5L2.5 11.5" class="round"/>
			</symbol>
			<symbol id="chevron-down" viewBox="0 0 16 16">
				<path d="M7.5 10.5L4.5 7.5" class="round"/>
				<path d="M7.5 10.5L10.5 7.5" class="round"/>
			</symbol>
			<symbol id="close" viewBox="0 0 24 24">
				<path d="M4.5 19.5L19.5 4.5" class="round"/>
				<path d="M19.5 19.5L4.5 4.5" class="round"/>
			</symbol>
			<symbol id="curve" viewBox="0 0 80 24">
				<path d="M21.1 14.8a24 24 0 0 0 37.8 0C64.3 8 71.2 0 80 0H0c8.8 0 15.7 7.9 21.1 14.8Z" class="fill no-stroke"/>
			</symbol>
			<symbol id="forward" viewBox="0 0 24 24">
				<path d="M5.5 18.5C5.5 12.9772 9.97715 8.5 15.5 8.5" class="no-fill round"/>
				<path d="M15.5 10.5V6.5L18.5 8.5L15.5 10.5Z" class="fill round"/>
			</symbol>
			<symbol id="pause" viewBox="0 0 24 24">
				<rect x="6" y="4" width="3" height="16"/>
				<rect x="15" y="4" width="3" height="16"/>
			</symbol>
			<symbol id="play" viewBox="0 0 24 24">
				<path d="M6.5 21.5V2.5L21.5 12L6.5 21.5Z" class="fill"/>
			</symbol>
			<symbol id="rewind" viewBox="0 0 24 24">
				<path d="M18.5 18.5C18.5 12.9772 14.0228 8.5 8.5 8.5" class="no-fill round"/>
				<path d="M8.5 10.5V6.5L5.5 8.5L8.5 10.5Z" class="fill round"/>
			</symbol>
			<symbol id="gear" viewBox="0 0 24 24">
				<path d="M20 7.2a1.9 1.9 0 0 0 1 2.6l1.3.4a1.9 1.9 0 0 1 0 3.6l-1.3.4a1.9 1.9 0 0 0-1 2.6l.5 1.2a1.9 1.9 0 0 1-2.5 2.5l-1.2-.6a1.9 1.9 0 0 0-2.6 1l-.4 1.4a1.9 1.9 0 0 1-3.6 0L9.8 21a1.9 1.9 0 0 0-2.6-1l-1.2.5A1.9 1.9 0 0 1 3.5 18l.6-1.2a1.9 1.9 0 0 0-1-2.6l-1.4-.4a1.9 1.9 0 0 1 0-3.6L3 9.8a1.9 1.9 0 0 0 1-2.6L3.6 6A1.9 1.9 0 0 1 6 3.5l1.2.6a1.9 1.9 0 0 0 2.6-1l.4-1.4a1.9 1.9 0 0 1 3.6 0l.4 1.3a1.9 1.9 0 0 0 2.6 1l1.2-.5A1.9 1.9 0 0 1 20.5 6l-.6 1.2Z"/>
				<path d="M8.5 12a3.5 3.5 0 1 0 7 0 3.5 3.5 0 0 0-7 0v0Z"/>
			</symbol>
		</defs>
	</svg>

	<main>

		<article class="story dialogue" lang=nl translate=no>

			<h1>Wat is je lievelingseten?</h1>

			<div class=selection-row lang=en translate=yes>
				<div class=voice>
					<label for=voice>Voice</label>
					<select id=voice name=voice class=quiet data-voice disabled>
						<option value=pepijn-and-annelinn selected>Pepijn & AnneLinn</option>
					</select>
				</div>
				<dl class=duration>
					<dt>Duration</dt>
					<dd data-duration>01:04</dd>
				</dl>
			</div>

			<noscript class=info>
				It seems like javascript is turned off. You can still hit play and read along. When you turn on javascript you can easily replay sentences, change the playback speed or add pauses in between sentences.
			</noscript>

			<ul class=styled-list>
				<li class=left>
					<p data-name=Pepijn>
						<span tabindex=1 data-sentence=0 data-translation="What's your favorite food?">
							Wat is jouw favoriete eten?
						</span>
					</p>
				</li>
				<li class=right>
					<p data-name=AnneLinn>
						<span tabindex=1 data-sentence=1 data-translation="Pizza!">
							Pizza!
						</span>
					</p>
				</li>
				<li class=left>
					<p data-name=Pepijn>
						<span tabindex=1 data-sentence=2 data-translation="Oh pizza, that's cool! Why do you like it so much?">
							Oh pizza, dat is cool! Waarom vind je dat zo lekker?
						</span>
					</p>
				</li>
				<li class=right>
					<p data-name=AnneLinn>
						<span tabindex=1 data-sentence=3 data-translation="Because it's warm and cheesy, it just makes me happy!">
							Omdat het warm en kaasachtig is, het maakt me gewoon heel blij!
						</span>
					</p>
				</li>
				<li class=left>
					<p data-name=Pepijn>
						<span tabindex=1 data-sentence=4 data-translation="That is nice! Have you always loved pizza?">
							Dat is fijn! Heb je altijd al van pizza gehouden?
						</span>
					</p>
				</li>
				<li class=right>
					<p data-name=AnneLinn>
						<span tabindex=1 data-sentence=5 data-translation="Yes, ever since I was a little kid.">
							Ja, al sinds ik een klein kind was.
						</span>
					</p>
				</li>
				<li class=left>
					<p data-name=Pepijn>
						<span tabindex=1 data-sentence=6 data-translation="Wow, that's a long time! Do you remember the first time you ate pizza?">
							Wow, dat is lang! Weet je nog de eerste keer dat je pizza at?
						</span>
					</p>
				</li>
				<li class=right>
					<p data-name=AnneLinn>
						<span tabindex=1 data-sentence=7 data-translation="I don't remember the first time, but I know I liked it right away.">
							Ik herinner het me niet, maar ik weet wel dat ik het meteen heel lekker vond.
						</span>
					</p>
				</li>
				<li class=left>
					<p data-name=Pepijn>
						<span tabindex=1 data-sentence=8 data-translation="Nice! What other food do you like?">
							Nice! Welk ander eten vind je lekker?
						</span>
					</p>
				</li>
				<li class=right>
					<p data-name=AnneLinn>
						<span tabindex=1 data-sentence=9 data-translation="Spaghetti and meatballs.">
							Spaghetti en gehaktballen.
						</span>
					</p>
				</li>
				<li class=left>
					<p data-name=Pepijn>
						<span tabindex=1 data-sentence=10 data-translation="Oh yes, spaghetti is good too. And what do you like about that?">
							Oh ja, spaghetti is ook goed. En wat vind je daar lekker aan?
						</span>
					</p>
				</li>
				<li class=right>
					<p data-name=AnneLinn>
						<span tabindex=1 data-sentence=11 data-translation="It's fun to twirl on my fork and I like the sauce. What do you actually like?">
							Het leuk is om op mijn vork te draaien en ik houd van de saus. Wat vind jij eigenlijk lekker?
						</span>
					</p>
				</li>
				<li class=left>
					<p data-name=Pepijn>
						<span tabindex=1 data-sentence=12 data-translation="I like chicken nuggets and fries.">
							Ik vind kipnuggets en frietjes lekker.
						</span>
					</p>
				</li>
				<li class=right>
					<p data-name=AnneLinn>
						<span tabindex=1 data-sentence=13 data-translation="Yes, those are tasty too. And do you like to drink something with your food?">
							Ja, die zijn ook lekker. En drink je graag iets bij je eten?
						</span>
					</p>
				</li>
				<li class=left>
					<p data-name=Pepijn>
						<span tabindex=1 data-sentence=14 data-translation="I like a coke with dinner.">
							Doe mij maar een cola bij het avondeten.
						</span>
					</p>
				</li>
				<li class=right>
					<p data-name=AnneLinn>
						<span tabindex=1 data-sentence=15 data-translation="I don't drink anything when I eat. Because it wouldn't be healthy.">
							Ik drink niets als ik eet. Omdat dat niet gezond zou zijn.
						</span>
					</p>
				</li>
				<li class=left>
					<p data-name=Pepijn>
						<span tabindex=1 data-sentence=16 data-translation="Oh, would you mind telling me more about that?">
							Oh, zou je me daar meer over willen vertellen?
						</span>
					</p>
				</li>
				<li class=right>
					<p data-name=AnneLinn>
						<span tabindex=1 data-sentence=17 data-translation="That's allright, but another time. Now I'm going to cook something for you first.">
							Ja, dat is goed. Maar wel een andere keer. Nu ga ik eerst iets voor jou koken.
						</span>
					</p>
				</li>
				<li class=left>
					<p data-name=Pepijn>
						<span tabindex=1 data-sentence=16 data-translation="Oh nice. Then I lie down on the couch for a moment.">
							Oh lekker. Dan ga ik even op de bank liggen.
						</span>
					</p>
				</li>
			</ul>

		</article>

		<p class=info>
			More content will follow soon. Do you want to request a new story or conversation? Please <a href="mailto:pepijngieles@proton.me?subject=I got some feedback for Readalong&body=Hi Pepijn,%0D%0A %0D%0A">send an email</a> to pepijngieles@proton.me
		</p>

		<div data-translation-popover class=translation-popover>

			<span data-translation-text></span>

			<button class="quiet small" onclick="toggleTranslation()" data-show-translation>Show translation</button>

			<button onclick="toggleTranslation()" data-hide-translation class="quiet icon-only small rounded">
				<span class=visually-hidden>Hide translation</span>
				<svg width=24 height=24 class=icon aria-hidden=true>
					<use xlink:href=#close></use>
				</svg>
				<svg width=80 height=24 class=curve aria-hidden=true>
					<use xlink:href=#curve></use>
				</svg>
			</button>
		</div>

		<progress value="0" max="100"></progress>

	</main>

	<nav>
		<div>
			<a href="../../index.html" class="button quiet icon-only rounded">
				<span class=visually-hidden>Go back</span>
				<svg width=24 height=24 class=icon aria-hidden=true>
					<use xlink:href=#back></use>
				</svg>
			</a>
		</div>
		<audio class=no-js-only onended="end()" controls>
			<source src="../../audio/favorite_food/nl/annelinn-and-pepijn.mp3" type="audio/mpeg">
		</audio>
		<script type="text/javascript">
			document.querySelector('audio').removeAttribute('controls')
		</script>
		<div class="audio-controls js-only">
			<button class="rewind quiet icon-only rounded" data-rewind onclick="playSentence(currentSentence - 1)" disabled>
				<span class=visually-hidden>Rewind</span>
				<svg width=24 height=24 class=icon aria-hidden=true>
					<use xlink:href=#rewind></use>
				</svg>
			</button>
			<button class="play icon-only rounded" data-action=play onclick=play()>
				<span class=visually-hidden>Play</span>
				<svg width=24 height=24 class=icon aria-hidden=true>
					<use xlink:href=#play></use>
				</svg>
			</button>
			<button class="pause icon-only rounded pressed" data-action=pause onclick=pause()>
				<span class=visually-hidden>Pause</span>
				<svg width=24 height=24 class=icon aria-hidden=true>
					<use xlink:href=#pause></use>
				</svg>
			</button>
			<button class="forward quiet icon-only rounded" data-fast-forward onclick="playSentence(currentSentence + 1)">
				<span class=visually-hidden>Forward</span>
				<svg width=24 height=24 class=icon aria-hidden=true>
					<use xlink:href=#forward></use>
				</svg>
			</button>
		</div>
		<div class="js-only text-align-right">
			<button class="settings quiet icon-only rounded" onclick="toggleSettings()">
				<span class=visually-hidden>Settings</span>
				<svg width=24 height=24 class=icon aria-hidden=true>
					<use xlink:href=#gear></use>
				</svg>
			</button>
		</div>

		<div class=developer-controls>
			<!-- TODO: add button to 'clear timestamps' and hide 'add timestamp' button initially. Show either one or the other. When clearing all timestamps, set currenSentence to the first one -->
			<input type="number" name="currentSentenceTime" value="0" step="0.1" oninput="updateTimestamps()">
			<button onclick=addTimestamp() class="small">Add timestamp</button>
			<button onclick="copyTimestamps()" class="small">Copy timestamps</button>
		</div>
	</nav>

	<form id=settings class="settings-popover" oninput="updateSettings()" hidden>

		<label for=playbackRate>Playback speed</label>
		<input type=range name=playbackRate id=playbackRate min=0.6 max=1.2 value=1 step=0.01 list=playbackRates>
		<datalist id=playbackRates>
			<option>1</option>
		</datalist>
		<br><br>

		<label for=sentencePause>Pause between sentences</label>
		<input type=range name=sentencePause id=sentencePause min=0 max=5000 value=0 step=80><br><br>

		<!--<label for=volume>Volume</label>
		<input type=range name=volume id=volume min=0 max=1 value=1 step=0.02><br><br>-->

		<label for=fontSize>Font size</label>
		<input type=range name=fontSize id=fontSize min=80 max=240 value=100 step=10 list=fontSizes><br>
		<datalist id=fontSizes>
			<option>100</option>
		</datalist>
		<br>

		<label for=lineHeight>Line height</label>
		<input type=range name=lineHeight id=lineHeight min=1 max=3 value=1.5 step=0.1 list=lineHeights><br>
		<datalist id=lineHeights>
			<option>1.5</option>
		</datalist>
		<br>

		<button type=button onclick="toggleSettings()" style=float:right>Close</button>

	</form>

	<script type="text/javascript">
		const timestamps = {
				  'annelinn-and-pepijn': [0,2.1,3.5,5.9,10.2,12.9,15.0,18.5,22.6,24.8,26.9,30.4,36.0,38.6,43.1,45.8,49.7,53.0,58.1]
			  },
			  storyID = 'favorite_food',
			  languageCode = 'nl',
			  storyType = 'dialogue'

		let voice = 'annelinn-and-pepijn' // TODO: change audio file on selection
	</script>

	<script type="text/javascript" src="../../assets/scripts.js?v=8"></script>

</body>
</html>